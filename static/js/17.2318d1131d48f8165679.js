webpackJsonp([17],{NPvS:function(t,e){t.exports="data:image/png;base64,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"},cSIL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("tdDb"),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-cebian",on:{click:function(e){return t.back()}}},[s("img",{attrs:{src:a("i5dz")}})]),t._v(" "),s("div",{staticClass:"header-text"},[t._v("确认订单")]),t._v(" "),s("div",{staticClass:"header-cebian"})]),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"main-one",on:{click:function(e){return t.opennew("wodedizhi")}}},[s("div",{staticClass:"one-box"},[s("div",{staticClass:"one-text"},[t._v("订单地址：")]),t._v(" "),""!=t.tabdata02?s("div",{staticClass:"one-text"},[t._v(t._s(t.tabdata02.msdAdProvince+t.tabdata02.msdAdCity+t.tabdata02.msdAdArea+t.tabdata02.msdAdDetailed))]):t._e()]),t._v(" "),""==t.tabdata02?s("div",{staticClass:"one-text"},[t._v("您还未选择默认地址，点我添加")]):t._e(),t._v(" "),""!=t.tabdata02?s("div",{staticClass:"one-hezi"},[s("div",{staticClass:"one-text"},[t._v("联系人："+t._s(t.tabdata02.msdAdName))]),t._v(" "),s("div",{staticClass:"one-text"},[t._v(t._s(t.tabdata02.msdAdPhone))])]):t._e()]),t._v(" "),s("div",{staticClass:"main-two"},[s("div",{staticClass:"two-text"},[t._v("服务类型：")]),t._v(" "),s("div",{staticClass:"two-text"},[t._v(t._s(t.MsdServiceStylename))])]),t._v(" "),s("div",{staticClass:"main-two",on:{click:function(e){return t.show()}}},[s("div",{staticClass:"two-text"},[t._v("上门时间："+t._s(2==t.msdOrIsAppointmentTime?"立即上门":t.msdOrAppointmentTime))]),t._v(" "),s("img",{attrs:{src:a("Ih9k")}})]),t._v(" "),s("div",{staticClass:"main-two"},[s("div",{staticClass:"two-text"},[t._v("服务公司："+t._s(t.msdCompanyname))]),t._v(" "),s("div",{staticClass:"two-text"})]),t._v(" "),s("div",{staticClass:"main-two",on:{click:function(e){return t.layuichange()}}},[s("div",{staticClass:"two-text"},[t._v("服务项目："+t._s(t.servertext.msdCsName))]),t._v(" "),s("img",{attrs:{src:a("Ih9k")}})]),t._v(" "),s("div",{staticClass:"main-two",on:{click:function(e){return t.paychange()}}},[s("div",{staticClass:"two-text"},[t._v("支付方式："+t._s(t._f("ptype")(t.state)))]),t._v(" "),s("img",{attrs:{src:a("Ih9k")}})]),t._v(" "),s("div",{staticClass:"main-two"},[s("div",{staticClass:"two-text"},[t._v("最低价:")]),t._v(" "),s("div",{staticClass:"two-news"},[t._v("￥"+t._s(t.servertext.msdCsPrice))])]),t._v(" "),s("div",{staticClass:"main-three"},[s("div",{staticClass:"three-text"},[t._v("备注：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.msdOrRemark,expression:"msdOrRemark"}],attrs:{type:"text",placeholder:"请输入您想要备注的内容"},domProps:{value:t.msdOrRemark},on:{input:function(e){e.target.composing||(t.msdOrRemark=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"main-four"},[s("div",{staticClass:"four-text"},[t._v("附照（最多三张）")]),t._v(" "),t._l(t.files,function(t){return s("img",{attrs:{src:t}})}),t._v(" "),t.files.length<3?s("img",{attrs:{src:a("NPvS")},on:{click:function(e){return t.upload()}}}):t._e()],2),t._v(" "),""!=t.tabdata02?s("div",{staticClass:"bottom",on:{click:function(e){return t.gosubmit()}}},[s("div",{staticClass:"bottom-text"},[t._v("确认提交")])]):t._e()]),t._v(" "),t.payboo?s("div",{staticClass:"layui",on:{click:function(e){return t.paychange()}}},[s("div",{staticClass:"layui-bottom"},[s("div",{staticClass:"layui-tab",on:{click:function(e){return e.stopPropagation(),t.changepay(1)}}},[t._v("\n\t\t\t\t支付宝\n\t\t\t")]),t._v(" "),s("div",{staticClass:"layui-tab",on:{click:function(e){return e.stopPropagation(),t.changepay(2)}}},[t._v("\n\t\t\t\t微信\n\t\t\t")]),t._v(" "),s("div",{staticClass:"layui-tab",on:{click:function(e){return e.stopPropagation(),t.changepay(3)}}},[t._v("\n\t\t\t\t钱包支付\n\t\t\t")])])]):t._e(),t._v(" "),t.layuiboo?s("div",{staticClass:"layui",on:{click:function(e){return t.layuichange()}}},[s("div",{staticClass:"layui-bottom"},t._l(t.tabdata,function(e,a){return s("div",{staticClass:"layui-tab",on:{click:function(a){return t.changeserver(e)}}},[t._v("\n\t\t\t\t"+t._s(e.msdCsName)+"\n\t\t\t")])}),0)]):t._e(),t._v(" "),s("date-time",{ref:"dateTime",attrs:{type:"dateTime"},on:{confirm:t.select}})],1)},staticRenderFns:[]};var n=function(t){a("r6rb")},r=a("VU/8")(s.a,i,!1,n,"data-v-40cabcba",null);e.default=r.exports},r6rb:function(t,e){},tdDb:function(t,e,a){"use strict";(function(t){var s=a("mg6h"),i=a.n(s);e.a={name:"querendingdan",data:function(){return{msdOrAppointmentTime:"",tabdata:[],layuiboo:!1,timeboo:!1,servertext:"",serverid:"",tabdata02:[],msdOrIsAppointmentTime:2,files:[],filesurl:[],msdOrRemark:"",state:1,payboo:!1,channel:""}},methods:{changepay:function(t){this.state=t,this.paychange()},paychange:function(){this.payboo=!this.payboo},gosubmit:function(){var e=this;if(2==this.msdOrIsAppointmentTime){var a=new Date;this.msdOrAppointmentTime=a.toLocaleDateString()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}else this.msdOrAppointmentTime=this.msdOrAppointmentTime+":00";3==this.state?t.ajax({type:"post",url:e.myurl+"/user/userWalletPayOrder",data:{msdUserId:localStorage.getItem("userid"),msdServiceStyleId:e.MsdServiceStyleId,msdAddressId:e.tabdata02.msdAddressId,msdOrPrice:e.servertext.msdCsPrice,msdOrImg1:e.filesurl[0],msdOrImg2:e.filesurl[1],msdOrImg3:e.filesurl[2],msdOrIsAppointmentTime:e.msdOrIsAppointmentTime,msdOrIsDelete:2,msdOrCreateName:localStorage.getItem("userid"),msdOrRemark:e.msdOrRemark,msdOrAppointmentTime:e.msdOrAppointmentTime,msdCompanyId:e.msdCompanyId},success:function(t){1==t.data?e.opennew("wodedingdan"):-1==t.data?alert("余额不足！"):alert(t.msg)},error:function(t){alert("网络连接失败，请检查网络后再试！")}}):t.ajax({type:"post",url:e.myurl+"/user/userCreateOrderPay",dataType:"json",data:{msdUserId:localStorage.getItem("userid"),msdServiceStyleId:e.MsdServiceStyleId,msdAddressId:e.tabdata02.msdAddressId,msdOrPrice:e.servertext.msdCsPrice,msdOrImg1:e.filesurl[0],msdOrImg2:e.filesurl[1],msdOrImg3:e.filesurl[2],msdOrIsAppointmentTime:e.msdOrIsAppointmentTime,msdOrIsDelete:2,msdOrCreateName:localStorage.getItem("userid"),msdOrRemark:e.msdOrRemark,msdOrAppointmentTime:e.msdOrAppointmentTime,msdCompanyId:e.msdCompanyId,state:e.state},success:function(a){1==e.state?plus.payment.request(e.channel[0],a.data[0],function(t){plus.nativeUI.alert("支付成功！",function(){e.opennew("wodedingdan")})},function(s){alert("支付失败！"),t.ajax({type:"post",url:e.myurl+"/user/deleteOrderId",data:{orderId:a.data[1],status:2},success:function(t){}})}):plus.payment.request(e.channel[1],a,function(t){plus.nativeUI.alert("支付成功！",function(){e.opennew("wodedingdan")})},function(s){alert("支付失败！"),t.ajax({type:"post",url:e.myurl+"/user/deleteOrderId",data:{orderId:a.orderId,status:2},success:function(t){}})})},error:function(t){alert("网络连接失败，请检查网络后再试！")}})},show:function(){this.$refs.dateTime.show()},select:function(t){this.msdOrIsAppointmentTime=1,this.msdOrAppointmentTime=t},changeserver:function(t){this.servertext=t},layuichange:function(){this.layuiboo=!this.layuiboo},myajax:function(){var e=this;t.ajax({type:"post",url:e.myurl+"/user/selectCompanyIdMsdCompanyService",data:{msdCompanyId:e.msdCompanyId},success:function(t){200==t.status?(e.tabdata=t.data,e.servertext=t.data[0]):alert(t.msg)},error:function(t){alert("网络连接失败，请检查网络后再试！")}}),t.ajax({type:"post",url:e.myurl+"/user/selectAddressUser",data:{msdUserId:localStorage.getItem("userid")},success:function(t){if(200==t.status)for(var a in t.data)1==t.data[a].msdAdIsDefault&&(e.tabdata02=t.data[a]);else alert(t.msg)},error:function(t){alert("网络连接失败，请检查网络后再试！")}})},back:function(){this.$router.back()},opennew:function(t){this.$router.push({name:t})},upload:function(){var t=this;plus.nativeUI.actionSheet({title:"请选择",cancel:"取消",buttons:[{title:"照相机"},{title:"相册"}]},function(e){switch(e.index){case 1:t.camera();break;case 2:t.album()}})},camera:function(){var t=this;plus.camera.getCamera().captureImage(function(e){plus.io.resolveLocalFileSystemURL(e,function(e){e.name;var a=e.toLocalURL();t.upimg=!t.upimg,t.upload_img(a)},function(t){alert("读取拍照文件错误："+t.message)})},function(t){alert("失败："+t.message)},{filename:"_doc/camera/",index:1})},album:function(){var t=this;plus.gallery.pick(function(e){t.upimg=!t.upimg,t.upload_img(e)},function(t){alert("取消选择图片")},{filter:"image"})},upload_img:function(e){var a=this,s=new Image;s.src=e,s.onload=function(){var e=this.width,s=this.height,i=e/s;s=(e=480)/i;var n=document.createElement("canvas"),r=n.getContext("2d");t(n).attr({width:e,height:s}),r.drawImage(this,0,0,e,s),t.ajax({type:"post",url:a.myurl+"/user/inserUserImgOrder",data:{imgStr:n.toDataURL("image/jpeg",1)},success:function(t){200==t.status?(a.files.push(n.toDataURL("image/jpeg",1)),a.filesurl.push(t.data)):alert(t.msg)},error:function(t){alert("网络连接失败，请检查网络后再试！")}})}}},mounted:function(){this.myajax(),null==localStorage.getItem("userid")&&this.$router.replace({name:"denglu"});var t=this;function e(){plus.payment.getChannels(function(e){t.channel=e},function(t){alert("获取支付通道失败："+t.message)})}window.plus?e():document.addEventListener("plusready",e,!1)},computed:{myurl:function(){return this.$store.state.myurl},msdCompanyId:function(){return this.$store.state.msdCompanyId},MsdServiceStylename:function(){return this.$store.state.MsdServiceStylename},msdCompanyname:function(){return this.$store.state.msdCompanyname},MsdServiceStyleId:function(){return this.$store.state.MsdServiceStyleId}},components:{DateTime:i.a},filters:{ptype:function(t){return 1==t?"支付宝":2==t?"微信":"钱包支付"}}}}).call(e,a("7t+N"))}});